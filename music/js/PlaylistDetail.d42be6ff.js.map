{"version":3,"sources":["webpack:///./node_modules/_core-js@2.6.12@core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/_core-js@2.6.12@core-js/modules/es6.string.includes.js","webpack:///./node_modules/_core-js@2.6.12@core-js/modules/es7.array.includes.js","webpack:///./src/page/playlist-detail/index.vue","webpack:///./src/page/playlist-detail/header.vue","webpack:///src/page/playlist-detail/header.vue","webpack:///./src/page/playlist-detail/header.vue?5276","webpack:///./src/page/playlist-detail/header.vue?8744","webpack:///src/page/playlist-detail/index.vue","webpack:///./src/page/playlist-detail/index.vue?e1cb","webpack:///./src/page/playlist-detail/index.vue?3382","webpack:///./node_modules/_core-js@2.6.12@core-js/modules/_string-context.js","webpack:///./src/page/playlist-detail/header.vue?cb95","webpack:///./src/page/playlist-detail/index.vue?daf2"],"names":["MATCH","module","exports","KEY","re","e","f","$export","context","INCLUDES","P","F","includes","searchString","this","indexOf","arguments","length","undefined","$includes","el","render","_vm","_c","_self","playlist","id","staticClass","ref","attrs","songs","tabs","model","value","activeTab","callback","$$v","expression","directives","name","rawName","SONG_IDX","class","getInputCls","on","onInputBlur","onInputFocus","searchValue","filteredSongs","_v","_s","_e","COMMENT_IDX","onCommentsUpdate","staticRenderFns","$utils","genImgUrl","coverImgUrl","creator","avatarUrl","nickname","formatDate","createTime","playAll","tagsText","description","props","type","Object","default","Array","methods","_objectSpread","startSong","setPlaylist","mapMutations","mapActions","computed","tags","join","component","MAX","metaInfo","title","created","_created","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","stop","apply","data","inputFocus","init","_init","_callee2","_yield$getListDetail","_context2","getListDetail","sent","genSonglist","_genSonglist","_callee3","trackIds","songDetails","_context3","map","_ref","getSongDetail","slice","_ref2","al","ar","mv","dt","createSong","artists","duration","mvId","albumName","img","picUrl","_x","_ref3","total","splice","concat","scrollToHeader","header","$refs","scrollInto","$el","Number","$route","params","_this","filter","_ref4","artistsText","toLowerCase","watch","handler","immediate","components","DetailHeader","SongTable","Comments","isRegExp","defined","that","NAME","TypeError","String"],"mappings":"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","file":"js/PlaylistDetail.d42be6ff.js","sourcesContent":["var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.playlist.id)?_c('div',{staticClass:\"playlist-detail\"},[_c('DetailHeader',{ref:\"header\",attrs:{\"playlist\":_vm.playlist,\"songs\":_vm.songs}}),_c('div',{staticClass:\"tabs-wrap\"},[_c('Tabs',{attrs:{\"tabs\":_vm.tabs,\"type\":\"theme\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}}),_c('el-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === _vm.SONG_IDX),expression:\"activeTab === SONG_IDX\"}],staticClass:\"input\",class:_vm.getInputCls(),attrs:{\"placeholder\":\"搜索歌单音乐\",\"prefix-icon\":\"el-icon-search\"},on:{\"blur\":_vm.onInputBlur,\"focus\":_vm.onInputFocus},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}})],1),(_vm.searchValue && !_vm.filteredSongs.length)?_c('div',{staticClass:\"empty\"},[_vm._v(\"\\n    未能找到和\\n    \"),_c('span',{staticClass:\"keyword\"},[_vm._v(\"“\"+_vm._s(_vm.searchValue)+\"”\")]),_vm._v(\"\\n    相关的任何音乐\\n  \")]):_vm._e(),_c('SongTable',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === _vm.SONG_IDX),expression:\"activeTab === SONG_IDX\"}],staticClass:\"table\",attrs:{\"highlightText\":_vm.searchValue,\"songs\":_vm.filteredSongs}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === _vm.COMMENT_IDX),expression:\"activeTab === COMMENT_IDX\"}],staticClass:\"comments\"},[_c('Comments',{attrs:{\"id\":_vm.id,\"type\":\"playlist\"},on:{\"update\":_vm.onCommentsUpdate}})],1)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.playlist.id)?_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{attrs:{\"src\":_vm.$utils.genImgUrl(_vm.playlist.coverImgUrl, 400)}})]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"title-wrap\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.playlist.name))])]),_c('div',{staticClass:\"creator-wrap\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.playlist.creator.avatarUrl}}),_c('p',{staticClass:\"creator\"},[_vm._v(_vm._s(_vm.playlist.creator.nickname))]),_c('p',{staticClass:\"create-time\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$utils.formatDate(_vm.playlist.createTime, \"yyyy-MM-dd\"))+\" 创建\\n      \")])]),_c('div',{staticClass:\"action-wrap\"},[_c('NButton',{staticClass:\"button\",on:{\"click\":_vm.playAll}},[_c('Icon',{staticClass:\"icon middle\",attrs:{\"color\":\"white\",\"type\":\"play-round\"}}),_c('span',{staticClass:\"middle\"},[_vm._v(\"播放全部\")])],1)],1),_c('div',{staticClass:\"desc-wrap\"},[(_vm.tagsText)?_c('p',{staticClass:\"desc\"},[_c('span',[_vm._v(\"标签：\"+_vm._s(_vm.tagsText))])]):_vm._e(),(_vm.playlist.description)?_c('p',{staticClass:\"desc\"},[_c('span',{staticClass:\"value\"},[_vm._v(\"简介：\"+_vm._s(_vm.playlist.description))])]):_vm._e()])])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"header\" v-if=\"playlist.id\">\r\n    <div class=\"img-wrap\">\r\n      <img :src=\"$utils.genImgUrl(playlist.coverImgUrl, 400)\" />\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"title-wrap\">\r\n        <p class=\"title\">{{ playlist.name }}</p>\r\n      </div>\r\n      <div class=\"creator-wrap\">\r\n        <img :src=\"playlist.creator.avatarUrl\" class=\"avatar\" />\r\n        <p class=\"creator\">{{ playlist.creator.nickname }}</p>\r\n        <p class=\"create-time\">\r\n          {{ $utils.formatDate(playlist.createTime, \"yyyy-MM-dd\") }} 创建\r\n        </p>\r\n      </div>\r\n      <div class=\"action-wrap\">\r\n        <NButton @click=\"playAll\" class=\"button\">\r\n          <Icon class=\"icon middle\" color=\"white\" type=\"play-round\" />\r\n          <span class=\"middle\">播放全部</span>\r\n        </NButton>\r\n      </div>\r\n      <div class=\"desc-wrap\">\r\n        <p class=\"desc\" v-if=\"tagsText\">\r\n          <span>标签：{{ tagsText }}</span>\r\n        </p>\r\n        <p class=\"desc\" v-if=\"playlist.description\">\r\n          <span class=\"value\">简介：{{ playlist.description }}</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapMutations } from \"@/store/helper/music\"\r\nexport default {\r\n  props: {\r\n    playlist: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    songs: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  methods: {\r\n    playAll() {\r\n      this.startSong(this.songs[0])\r\n      this.setPlaylist(this.songs)\r\n    },\r\n    ...mapMutations([\"setPlaylist\"]),\r\n    ...mapActions([\"startSong\"]),\r\n  },\r\n  computed: {\r\n    tagsText() {\r\n      return this.playlist.tags.join(\"/\")\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.header {\r\n  display: flex;\r\n  padding: 36px;\r\n\r\n  .img-wrap {\r\n    width: 200px;\r\n    height: 200px;\r\n    margin-right: 24px;\r\n\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n\r\n  .content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    flex: 1;\r\n\r\n    .title-wrap {\r\n      display: flex;\r\n      align-items: center;\r\n      margin-bottom: 12px;\r\n\r\n      .title {\r\n        font-size: $font-size-lg;\r\n        color: var(--font-color-white);\r\n      }\r\n    }\r\n\r\n    .action-wrap {\r\n      margin-bottom: 18px;\r\n\r\n      .button {\r\n        background: #f95043;\r\n        background: linear-gradient(to right, #fa5143, #f44d41, #d53b32);\r\n        color: #fbdfdd;\r\n        border: none;\r\n\r\n        .icon {\r\n          margin-right: 4px;\r\n        }\r\n\r\n        .middle {\r\n          vertical-align: middle;\r\n        }\r\n      }\r\n    }\r\n\r\n    .creator-wrap {\r\n      display: flex;\r\n      align-items: center;\r\n      margin-bottom: 18px;\r\n\r\n      .avatar {\r\n        width: 30px;\r\n        height: 30px;\r\n        border-radius: 50%;\r\n        margin-right: 8px;\r\n      }\r\n\r\n      .creator {\r\n        margin-right: 8px;\r\n      }\r\n\r\n      .create-time {\r\n        font-size: $font-size-sm;\r\n      }\r\n    }\r\n\r\n    .desc {\r\n      margin-bottom: 8px;\r\n\r\n      .label {\r\n        display: inline-block;\r\n        margin-right: 8px;\r\n      }\r\n\r\n      .value {\r\n        @include text-ellipsis-multi(3);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./header.vue?vue&type=template&id=1ef23c8a&scoped=true\"\nimport script from \"./header.vue?vue&type=script&lang=js\"\nexport * from \"./header.vue?vue&type=script&lang=js\"\nimport style0 from \"./header.vue?vue&type=style&index=0&id=1ef23c8a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ef23c8a\",\n  null\n  \n)\n\nexport default component.exports","// 歌单详情页面\r\n<template>\r\n  <div class=\"playlist-detail\" v-if=\"playlist.id\">\r\n    <DetailHeader ref=\"header\" :playlist=\"playlist\" :songs=\"songs\" />\r\n    <div class=\"tabs-wrap\">\r\n      <Tabs :tabs=\"tabs\" type=\"theme\" v-model=\"activeTab\" />\r\n      <el-input\r\n        :class=\"getInputCls()\"\r\n        @blur=\"onInputBlur\"\r\n        @focus=\"onInputFocus\"\r\n        class=\"input\"\r\n        placeholder=\"搜索歌单音乐\"\r\n        prefix-icon=\"el-icon-search\"\r\n        v-model=\"searchValue\"\r\n        v-show=\"activeTab === SONG_IDX\"\r\n      ></el-input>\r\n    </div>\r\n    <div class=\"empty\" v-if=\"searchValue && !filteredSongs.length\">\r\n      未能找到和\r\n      <span class=\"keyword\">“{{ searchValue }}”</span>\r\n      相关的任何音乐\r\n    </div>\r\n    <SongTable\r\n      :highlightText=\"searchValue\"\r\n      :songs=\"filteredSongs\"\r\n      class=\"table\"\r\n      v-show=\"activeTab === SONG_IDX\"\r\n    />\r\n    <div class=\"comments\" v-show=\"activeTab === COMMENT_IDX\">\r\n      <Comments :id=\"id\" @update=\"onCommentsUpdate\" type=\"playlist\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DetailHeader from \"./header\"\r\nimport SongTable from \"@/components/song-table\"\r\nimport Comments from \"@/components/comments\"\r\nimport { createSong, scrollInto } from \"@/utils\"\r\nimport { getListDetail } from \"@/api\"\r\nimport { getSongDetail } from \"@/api\"\r\n\r\nconst MAX = 500\r\nconst SONG_IDX = 0\r\nconst COMMENT_IDX = 1\r\nexport default {\r\n  metaInfo() {\r\n    return {\r\n      title: this.playlist.name,\r\n    }\r\n  },\r\n  async created() {\r\n    this.SONG_IDX = SONG_IDX\r\n    this.COMMENT_IDX = COMMENT_IDX\r\n  },\r\n  data() {\r\n    return {\r\n      tabs: [\"歌曲列表\", \"评论\"],\r\n      activeTab: SONG_IDX,\r\n      playlist: {},\r\n      songs: [],\r\n      searchValue: \"\",\r\n      inputFocus: false,\r\n    }\r\n  },\r\n  methods: {\r\n    async init() {\r\n      const { playlist } = await getListDetail({ id: this.id })\r\n      this.playlist = playlist\r\n      this.genSonglist(playlist)\r\n    },\r\n    async genSonglist(playlist) {\r\n      const trackIds = playlist.trackIds.map(({ id }) => id)\r\n      const songDetails = await getSongDetail(trackIds.slice(0, MAX))\r\n      const songs = songDetails.songs.map(({ id, name, al, ar, mv, dt }) =>\r\n        createSong({\r\n          id,\r\n          name,\r\n          artists: ar,\r\n          duration: dt,\r\n          mvId: mv,\r\n          albumName: al.name,\r\n          img: al.picUrl,\r\n        }),\r\n      )\r\n      this.songs = songs\r\n    },\r\n    onCommentsUpdate({ total }) {\r\n      this.tabs.splice(COMMENT_IDX, 1, `评论(${total})`)\r\n    },\r\n    onInputFocus() {\r\n      this.inputFocus = true\r\n    },\r\n    onInputBlur() {\r\n      this.inputFocus = false\r\n    },\r\n    getInputCls() {\r\n      return !this.inputFocus ? \"inactive\" : \"\"\r\n    },\r\n    scrollToHeader() {\r\n      const { header } = this.$refs\r\n      if (header) {\r\n        scrollInto(header.$el)\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    id() {\r\n      return Number(this.$route.params.id)\r\n    },\r\n    filteredSongs() {\r\n      return this.songs.filter(({ name, artistsText, albumName }) =>\r\n        `${name}${artistsText}${albumName}`\r\n          .toLowerCase()\r\n          .includes(this.searchValue.toLowerCase()),\r\n      )\r\n    },\r\n  },\r\n  watch: {\r\n    id: {\r\n      handler() {\r\n        this.searchValue = \"\"\r\n        this.init()\r\n        this.scrollToHeader()\r\n      },\r\n      immediate: true,\r\n    },\r\n  },\r\n  components: { DetailHeader, SongTable, Comments },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.playlist-detail {\r\n  width: 100%;\r\n\r\n  .tabs-wrap {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin: 0 24px;\r\n    border-bottom: 1px solid var(--border);\r\n\r\n    .input {\r\n      width: 125px;\r\n\r\n      &:not(:hover) {\r\n        &.inactive {\r\n          /deep/.el-input__inner {\r\n            background: transparent !important;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .empty {\r\n    @include flex-center;\r\n    height: 200px;\r\n\r\n    .keyword {\r\n      color: $blue;\r\n    }\r\n  }\r\n\r\n  .comments {\r\n    padding: 16px 32px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2731553c&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2731553c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2731553c\",\n  null\n  \n)\n\nexport default component.exports","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=0&id=1ef23c8a&prod&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2731553c&prod&lang=scss&scoped=true\""],"sourceRoot":""}